(function(t){function e(e){for(var a,i,s=e[0],u=e[1],l=e[2],c=0,d=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);h&&h(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},i={app:0},r={app:0},o=[];function s(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-795df950":"25517abd"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-795df950":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-795df950":"b5b2ef49"}[t]+".css",r=u.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===a||c===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],c=l.getAttribute("data-href");if(c===a||c===r)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[t],h.parentNode.removeChild(h),n(o)},h.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){i[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=o);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.src=s(t);var d=new Error;l=function(e){c.onerror=c.onload=null,clearTimeout(h);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}r[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0186":function(t,e,n){"use strict";var a;n.d(e,"a",(function(){return a})),function(t){t["SUBMMITED"]="SUBMMITED",t["TEMP_SUBMITTED"]="TEMP_SUBMITTED",t["STARTED"]="STARTED",t["EMPTY_INPUT"]="EMPTY_INPUT",t["NOT_EXISTING"]="NOT_EXISTING",t["INITIAL"]="INITIAL",t["NETWORK_ERROR"]="NETWORK_ERROR",t["TRY_AGAIN"]="TRY_AGAIN"}(a||(a={}))},"05f0":function(t,e,n){},"1c6a":function(t,e,n){"use strict";n("7866")},"250f":function(t,e,n){"use strict";n("81cd")},"49f8":function(t,e,n){var a={"./en.json":"edd4","./th.json":"8680","./zh-TW.json":"9ea5"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="49f8"},"4d13":function(t,e,n){"use strict";n("a6f3")},"53c2":function(t,e,n){},"5ab4":function(t,e,n){"use strict";n("53c2")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"605f":function(t,e,n){},"752c":function(t,e,n){},7866:function(t,e,n){},"81cd":function(t,e,n){},8680:function(t){t.exports=JSON.parse('{"brandname":"QSticker","答題碼":"รหัสแบบทดสอบ","開始":"เริ่ม","答題碼不存在":"รหัสคำถามไม่ถูกต้อง","測驗已繳交":"ส่งแบบทดสอบแล้ว!","答題碼為空，請輸入答題碼":"กรุณากรอกรหัสควิซ!","language":"ภาษา","繳交":"ส่ง","單選題":"กรุณาเลือกหนึ่งคำตอบ","複選題":"โปรดเลือกมากกว่าหนึ่งคำตอบ","上一題":"ก่อนหน้า","下一題":"ถัดไป","答題進度":"ความคืบหน้า","目前題型:":"","題數:":"ทั้งหมด:","播放進度：":"","時長：":"","總題數":"ทั้งหมด","已完成":"เลือกแล้ว","待完成":"ยังไม่เสร็จ","已經是第一題":"คุณอยู่ที่คำถามแรก","已經是最後一題":"คุณอยู่ที่คำถามสุดท้าย","抱歉":"เสียใจ","繳交成功":"ส่งเรียบร้อยแล้ว","ConfirmModalTip":"คุณต้องการส่งแบบทดสอบหรือไม่? ","ConfirmModalYes":"ใช่ฉันแน่ใจ","ConfirmModalNo":"ยกเลิก","已答完所有題目":"ทุกคำถามมีคำตอบ","完成":"ทำได้ดี! ","該測驗已完成":"ส่งแบบทดสอบไปแล้ว","無效答題碼":"รหัสคำถามไม่ถูกต้อง","聲音題":"คำถามเสียง"}')},"8a9f":function(t,e,n){"use strict";n("ce74")},9469:function(t,e,n){"use strict";n("05f0")},"9c0c":function(t,e,n){},"9ea5":function(t){t.exports=JSON.parse('{"brandname":"互動貼圖","答題碼":"答題碼","開始":"開始","答題碼不存在":"答題碼不存在","測驗已繳交":"測驗已繳交","答題碼為空，請輸入答題碼":"答題碼為空，請輸入答題碼","language":"語言","繳交":"繳交","單選題":"單選題","複選題":"複選題","上一題":"上一題","下一題":"下一題","答題進度":"答題進度","目前題型:":"目前題型:","題數:":"題數:","播放進度：":"進度：","時長：":"時長：","總題數":"總題數","已完成":"已完成","待完成":"待完成","已經是第一題":"已經是第一題","已經是最後一題":"已經是最後一題","抱歉":"抱歉","繳交成功":"繳交成功","ConfirmModalTip":"請確認是否繳交此次作答？","ConfirmModalYes":"繳交","ConfirmModalNo":"取消","已答完所有題目":"已答完所有題目","完成":"完成！","該測驗已完成":"測驗已完成","無效答題碼":"無效答題碼","聲音題":"聲音題"}')},a6f3:function(t,e,n){},af9c:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"rn"!==t.clienttype?n("b-dropdown",{attrs:{id:"lang-dropdown",right:"",size:"sm",variant:t.bgcolor,"no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"center"},[n("i",{staticClass:"fas fa-globe-americas",style:"font-size: 1.75rem; color:"+t.contentcolor+";margin-right:2px;"}),t.description?n("i",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.$t("language"))+" ")]):t._e(),n("i",{staticClass:"fas fa-sort-down ml-2",staticStyle:{"margin-bottom":"1px"}})])]},proxy:!0}],null,!1,3683386011)},t._l(t.langs,(function(e,a){return n("b-dropdown-item",{key:a,on:{click:function(n){n.preventDefault(),t.$i18n.locale=e.code}}},[t._v(" "+t._s(e.label)+" ")])})),1):t._e()},i=[],r=n("2b0e"),o=r["default"].extend({props:{bgcolor:{type:String,required:!1,default:"secondary"},contentcolor:{type:String,required:!1,default:""},description:{type:Boolean,required:!1,default:!0},clienttype:{type:String,required:!1,default:""}},data:function(){return{langs:[{label:"繁體中文",code:"zh-TW"},{label:"English",code:"en"},{label:"ไทย",code:"th"}]}},created:function(){""!==this.$route.query.language&&null!=this.$route.query.language&&void 0!==this.$route.query.language?this.$i18n.locale=this.$route.query.language:this.$i18n.locale="en"}}),s=o,u=(n("bc08"),n("2877")),l=Object(u["a"])(s,a,i,!1,null,"536dc4e3",null);e["a"]=l.exports},b640:function(t,e,n){t.exports=n.p+"img/logo.48bd83d6.jpg"},bc08:function(t,e,n){"use strict";n("752c")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("99af"),n("e792"),n("0cdd");var a=n("2b0e"),i=n("5f5b");n("ab8b"),n("2dd8");a["default"].use(i["a"]);var r=n("ee98"),o=n.n(r),s=n("2b27"),u=n.n(s),l=n("130e"),c=n("bc3a"),d=n.n(c),h=n("9062"),p=n.n(h),f=(n("e40d"),n("fd32")),m=n.n(f),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading",{attrs:{active:t.$store.state.isLoading},on:{"update:active":function(e){return t.$set(t.$store.state,"isLoading",e)}}}),n("router-view"),n("notifications",{attrs:{position:"top center","ignore-duplicates":!0}})],1)},b=[],v=(n("5c0b"),n("2877")),w={},y=Object(v["a"])(w,g,b,!1,null,null,null),S=y.exports,x=(n("b0c0"),n("8c4f")),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Stage",{attrs:{quiz:t.quizData}})],1)},_=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.quiz?n("div",{staticClass:"stage",style:t.stageSize},[n("img",{staticClass:"base-image",attrs:{src:t.quiz.baseImage.url,alt:"base image"}}),t._l(t.quiz.clickAreas,(function(e,a){return n("StageBlock",{key:a,staticClass:"click-area-style",style:{top:e.area.y*t.imageRatio+"px",left:e.area.x*t.imageRatio+"px"},attrs:{width:e.area.width*t.imageRatio,height:e.area.height*t.imageRatio,"scale-ratio":t.imageRatio,label:e.label,content:e.content,"multiple-select":t.multipleSelect},on:{updateAnsSet:t.updateParentAnsSet}})}))],2):t._e()},k=[],C=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isHighlight?n("div",[n("div",{staticClass:"stage-block",class:{"answer-border":t.isAnswer},style:t.wrapperStyle,on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.highlightMe.apply(null,arguments)},dblclick:t.highlightMe}},[t.content.textField&&t.content.textField.enabled?n("StageText",{attrs:{width:t.width,height:t.height,field:t.content.textField,"font-size":t.content.textField.size}}):t._e(),t.content.imageField&&t.content.imageField.enabled?n("StageImage",{attrs:{width:t.width,height:t.height,field:t.content.imageField,"image-size":t.content.imageField.size}}):t._e(),t.displayAnswer&&t.isAnswer?n("div",{staticClass:"answer-check"},[n("i",{staticClass:"fas fa-check"})]):t._e(),n("div",{staticClass:"highlight"})],1)]):n("div",[n("div",{staticClass:"stage-block",class:{"answer-border":t.isAnswer},style:t.wrapperStyle,on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.highlightMe.apply(null,arguments)},dblclick:t.highlightMe}},[t.content.textField&&t.content.textField.enabled?n("StageText",{attrs:{width:t.width,height:t.height,"scale-ratio":t.scaleRatio,field:t.content.textField,"font-size":t.content.textField.size}}):t._e(),t.content.imageField&&t.content.imageField.enabled?n("StageImage",{attrs:{width:t.width,height:t.height,field:t.content.imageField,"image-size":t.content.imageField.size}}):t._e(),t.displayAnswer&&t.isAnswer?n("div",{staticClass:"answer-check"},[n("i",{staticClass:"fas fa-check"})]):t._e()],1)])])}),$=[],N=(n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stagetext"},[n("TextArea",{style:{"font-size":t.field.size*t.textScaleRatio+"px"},attrs:{"display-placeholder":t.displayPlaceholder,field:t.field},model:{value:t.field.text,callback:function(e){t.$set(t.field,"text",e)},expression:"field.text"}})],1)}),E=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea",class:{"input-border":t.isFocus}},[t.displayPlaceholder&&""===t.value&&!t.isFocus?n("div",{staticClass:"input-zone placeholder noselect",on:{click:function(e){return t.$refs.editable.focus()}}},[t._v(" text ")]):t._e(),n("div",{ref:"editable",staticClass:"input-zone input",attrs:{contenteditable:"false"},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}})])},O=[],I=a["default"].extend({name:"TextArea",props:{value:{type:String,default:""},displayPlaceholder:{type:Boolean,default:!0}},data:function(){return{isFocus:!1}},watch:{value:function(t){var e=this.$refs.editable;if(e&&t!==e.innerText){e.innerText=t;var n=document.createRange(),a=window.getSelection();if(!a)throw new Error("Get selection failed");var i=e.childNodes[e.childNodes.length-1];if(!i)return;n.setStart(i,i.length),n.collapse(!0),a.removeAllRanges(),a.addRange(n)}}},mounted:function(){var t=this.$refs.editable;t&&(t.innerText=this.value)},methods:{onInput:function(t){this.$emit("input",t.target.innerText)},onFocus:function(){this.isFocus=!0},onBlur:function(){this.isFocus=!1},reset:function(){this.$emit("input","")}}}),q=I,M=(n("250f"),Object(v["a"])(q,z,O,!1,null,"734c4efc",null)),L=M.exports,P=new a["default"],R=(new a["default"],new a["default"],a["default"].extend({name:"StageText",components:{TextArea:L},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},scaleRatio:{type:Number,required:!0},field:{type:Object,required:!1,default:null}},data:function(){return{displayPlaceholder:!0}},computed:{textScaleRatio:function(){var t=.28846153846153844;return this.scaleRatio/t}},mounted:function(){P.$on("reset-stage",this.reset),P.$on("before-screenshot",this.beforeScreenshot),P.$on("after-screenshot",this.afterScreenshot)},methods:{reset:function(){},beforeScreenshot:function(){this.displayPlaceholder=!1},afterScreenshot:function(){this.displayPlaceholder=!0}}})),j=R,D=(n("fddd"),Object(v["a"])(j,N,E,!1,null,"8368b84c",null)),U=D.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stage-image",style:{width:t.width+"px",height:t.height+"px"}},[""!==t.errorMessage?n("div",{staticClass:"error"},[n("i",{staticClass:"fas fa-exclamation-triangle"}),n("br"),t._v(" "+t._s(t.errorMessage)+" ")]):t.isLoading?n("div",[n("loading",{attrs:{active:t.isLoading,"is-full-page":!1,"background-color":"transparent"},on:{"update:active":function(e){t.isLoading=e}}})],1):t.field.url?n("div",{staticClass:"pic"},[n("img",{style:{width:t.imageSize+"%"},attrs:{src:t.field.url}})]):t._e()])},F=[],H=n("2909"),V=n("1da1"),Q=n("d4ec"),Y=n("bee2"),W=(n("96cf"),n("e9c4"),n("25f0"),function(){function t(){Object(Q["a"])(this,t)}return Object(Y["a"])(t,null,[{key:"deepcopy",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"randomString",value:function(t){return t<0?"":Math.random().toString(36).substring(t)}},{key:"preloadImage",value:function(t){return new Promise((function(e,n){var a=new Image;a.onload=function(){e()},a.onerror=function(){n(new Error("Failed to load image from ".concat(t)))},a.src=t}))}},{key:"demo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return new Promise((function(e,n){var a=Math.random();a>t?e(a):n(new Error("less than ".concat(t)))}))}},{key:"wait",value:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))}},{key:"retry",value:function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(n,a){var i,r,o,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=u.length>2&&void 0!==u[2]?u[2]:5,r=u.length>3&&void 0!==u[3]?u[3]:100,i=Math.max(i,0),r=Math.max(r,10),o=null,s=0;case 6:if(!(s<i)){e.next=21;break}return e.prev=7,e.next=10,n.apply(void 0,Object(H["a"])(a));case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e["catch"](7),o=e.t0;case 16:return e.next=18,t.wait(r);case 18:s+=1,e.next=6;break;case 21:throw o;case 22:case"end":return e.stop()}}),e,null,[[7,13]])})));function n(t,n){return e.apply(this,arguments)}return n}()},{key:"fileToDataUrl",value:function(t){return new Promise((function(e,n){var a=new FileReader;a.onload=function(t){if(t&&t.target&&"string"===typeof t.target.result){var a=t.target.result;e(a)}else n(new Error("Failed to read file as dataUrl"))},a.readAsDataURL(t)}))}}]),t}()),G=a["default"].extend({name:"StageImage",props:{width:{type:Number,default:200},height:{type:Number,default:200},field:{type:Object,required:!1,default:null},imageSize:{type:Number,default:80}},data:function(){return{errorMessage:"",isLoading:!1}},computed:{imageUrl:function(){return this.field.url}},watch:{imageUrl:function(t){var e=this;""!==t&&(this.isLoading=!0,this.$store.commit("addStagePendingTask"),W.preloadImage(t).catch((function(){e.showErrorMessage("無法讀取檔案")})).finally((function(){e.$store.commit("finishStagePendingTask"),e.isLoading=!1})))}},mounted:function(){P.$on("reset-stage",this.reset)},methods:{showErrorMessage:function(t){var e=this;this.errorMessage=t,setTimeout((function(){e.errorMessage=""}),2e3)},reset:function(){this.errorMessage="",this.isLoading=!1}}}),J=G,X=(n("4d13"),Object(v["a"])(J,B,F,!1,null,"8deab030",null)),K=X.exports,Z=a["default"].extend({name:"StageBlock",components:{StageText:U,StageImage:K},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},scaleRatio:{type:Number,required:!0},label:{type:String,required:!1,default:""},content:{type:Object,required:!1,default:function(){return{}}},multipleSelect:{type:Boolean,required:!1,default:!1}},data:function(){return{displayAnswer:!0}},computed:{wrapperStyle:function(){return{width:"".concat(this.width,"px"),height:"".concat(this.height,"px")}},quizAnswer:function(){return this.$store.state.stageAnswer},isAnswer:function(){return String(this.quizAnswer)===this.label},isHighlight:function(){if("Title"!==this.label){if(!1===this.multipleSelect){var t=this.$store.state.stageHighlightLabel;return void 0!==t[0]&&null!==t[0]&&null!==t&&this.$store.state.stageHighlightLabel[0]===this.label}if(this.multipleSelect){for(var e=this.$store.state.stageHighlightLabel,n=0;n<e.length;n+=1)if(e[n]===this.label)return!0;return!1}}return!1}},mounted:function(){P.$on("reset-stage",this.reset)},methods:{reset:function(){this.displayAnswer=!1},toggleAnswer:function(){this.$store.commit("updateStageHighlightLabel",this.label)},highlightMe:function(){if("Title"!==this.label){if(!1===this.multipleSelect){var t=this.$store.state.stageHighlightLabel;t[0]===this.label?t.pop():this.$store.commit("updateStageHighlightLabel",[this.label])}else if(this.multipleSelect){for(var e=this.$store.state.stageHighlightLabel,n=!1,a=0;a<e.length;a+=1)e[a]===this.label&&(e.splice(a,1),n=!0);n||e.push(this.label),this.$store.commit("updateStageHighlightLabel",e)}this.$emit("updateAnsSet","")}this.$parent.itemClicked()}}}),tt=Z,et=(n("8a9f"),Object(v["a"])(tt,C,$,!1,null,"1cfa196e",null)),nt=et.exports,at=a["default"].extend({name:"Stage",components:{StageBlock:nt},props:{imageDisplayWidth:{type:Number,required:!1,default:300},quiz:{type:Object,required:!1,default:null},multipleSelect:{type:Boolean,required:!1,default:!1},userAnswer:{type:Array,required:!1,default:[""]}},data:function(){return{}},computed:{imageRatio:function(){return this.quiz?this.imageDisplayWidth/this.quiz.baseImage.width:0},stageSize:function(){var t=this.imageDisplayWidth,e=t;return this.quiz&&this.quiz.baseImage&&(e=this.quiz.baseImage.height*this.imageRatio),{"max-width":"".concat(t,"px"),"max-height":"".concat(e,"px"),"min-width":"".concat(t,"px")}}},created:function(){this.$store.commit("updateStageHighlightLabel",this.userAnswer)},updated:function(){this.$store.commit("updateStageHighlightLabel",this.userAnswer)},methods:{updateParentAnsSet:function(t){this.$emit("updateAnsSetFromSub",this.$store.state.stageHighlightLabel)},itemClicked:function(){this.$parent.checkIsAllSelected()}}}),it=at,rt=(n("5ab4"),Object(v["a"])(it,A,k,!1,null,"7ecd2717",null)),ot=rt.exports,st=a["default"].extend({name:"Home",components:{Stage:ot},data:function(){return{quizData:{answer:"B",templateName:"title four image",clickAreas:[{area:{x:0,width:1040,y:0,height:520},contents:[{options:[{inputType:"number",label:"大小",value:"22"}],label:"文字",check:!0,type:"text",value:"什麼顏色？"},{options:[{inputType:"number",label:"尺寸",value:"125"}],label:"圖片",check:!0,type:"image",value:"https://storage.googleapis.com/quiz-storage/images/QMY1SCYYxJbnoK5"}],action:{type:""},label:"Title"},{area:{x:0,width:520,y:520,height:520},contents:[{options:[{inputType:"number",label:"大小",value:24}],label:"文字",check:!1,type:"text",value:""},{options:[{inputType:"number",label:"尺寸",value:"108"}],label:"圖片",check:!0,type:"image",value:"https://storage.googleapis.com/quiz-storage/images/kikxTIP59rAa42k"}],action:{type:"answer"},label:"A"},{area:{x:520,width:520,y:520,height:520},contents:[{options:[{inputType:"number",label:"大小",value:24}],label:"文字",check:!1,type:"text",value:""},{options:[{inputType:"number",label:"尺寸",value:"168"}],label:"圖片",check:!0,type:"image",value:"https://storage.googleapis.com/quiz-storage/images/baRAjqhUBU19cp4"}],action:{type:"answer"},label:"B"},{area:{x:0,width:520,y:1040,height:520},contents:[{options:[{inputType:"number",label:"大小",value:24}],label:"文字",check:!1,type:"text",value:""},{options:[{inputType:"number",label:"尺寸",value:"178"}],label:"圖片",check:!0,type:"image",value:"https://storage.googleapis.com/quiz-storage/images/fsUxDMq7NPBm32T"}],action:{type:"answer"},label:"C"},{area:{x:520,width:520,y:1040,height:520},contents:[{options:[{inputType:"number",label:"大小",value:24}],label:"文字",check:!1,type:"text",value:""},{options:[{inputType:"number",label:"尺寸",value:"178"}],label:"圖片",check:!0,type:"image",value:"https://storage.googleapis.com/quiz-storage/images/IgB23kRMQHjs2Vz"}],action:{type:"answer"},label:"D"}],baseImage:{width:1040,url:"https://i.imgur.com/N3Yb1E6.png",height:1560},outputImage:{width:1040,url:"https://storage.googleapis.com/quiz-storage/images/XnofHElxdVOH5Pe",height:1560},templateId:"1234a7b6-78f0-465b-a6bb-fa02df2c24b8",enableAudio:!0,audioUrl:"https://storage.googleapis.com/quiz-storage/audios/pGh2qtxGn6YuRqt.m4a",audioDuration:27252,uuid:"a9a966e3-cd2d-43cf-bb1f-992de3a47e64",previewImage:{width:1040,url:"https://storage.googleapis.com/quiz-storage/images/XnofHElxdVOH5Pe",height:1560}}}}}),ut=st,lt=Object(v["a"])(ut,T,_,!1,null,null,null),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{dblclick:t.doubleClick}},[a("b-navbar",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top ",staticStyle:{"background-color":"#4186ED"}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-brand",attrs:{href:"#"}},[a("img",{staticClass:"d-inline-block align-text-top",staticStyle:{"border-radius":"50%",border:"1px solid white"},attrs:{src:n("b640"),alt:"",width:"30",height:"30"}}),a("span",{staticStyle:{color:"white"}},[t._v(" "+t._s(t.$t("brandname")))])]),a("div",{staticStyle:{float:"right"}},[a("LanguageSelector",{staticStyle:{"margin-right":"5px"},attrs:{bgcolor:"outline-light",description:!1,clienttype:t.clientType}}),t.isAllSelected?a("b-button",{attrs:{variant:"warning"},on:{click:function(e){return t.$bvModal.show("modal-scoped")}}},[t._v(" "+t._s(t.$t("繳交"))+" ")]):a("b-button",{attrs:{variant:"outline-light"},on:{click:function(e){return t.$bvModal.show("modal-scoped")}}},[t._v(" "+t._s(t.$t("繳交"))+" ")])],1)])]),a("div",{staticStyle:{"margin-top":"75px","margin-left":"3%","margin-right":"3%"}},[a("div",{staticStyle:{display:"inline-block"}},[a("h1",{staticStyle:{display:"inline-block"}},[t._v(" "+t._s(t.currentNum+1)+" ")]),a("h4",{staticStyle:{display:"inline-block"}},[t._v(" /"+t._s(t.amount)+" ")])]),a("div",{staticStyle:{display:"inline-block","margin-left":"3"}},[t._v("   "+t._s(t.$t("目前題型:"))+" "),!1===t.ansSet[t.currentNum].multipleSelect?a("nobr",[t._v(" "+t._s(t.$t("單選題"))+" ")]):t._e(),t.ansSet[t.currentNum].multipleSelect?a("nobr",[t._v(" "+t._s(t.$t("複選題"))+" ")]):t._e(),!0===t.ansSet[t.currentNum].sourceQuiz.enableAudio?a("div",[t._v("   "+t._s(t.$t("聲音題"))+" ")]):t._e(),a("hr")],1),a("br"),!0===t.quizData[t.currentNum].sourceQuiz.enableAudio?a("VueAudio",{attrs:{"the-url":t.quizData[t.currentNum].sourceQuiz.audioUrl,"the-control-list":"noDownload noMuted onlyOnePlaying"}}):t._e(),a("center",{staticStyle:{"margin-bottom":"17%"}},[a("Stage",{attrs:{quiz:t.quizData[t.currentNum].sourceQuiz,"multiple-select":t.ansSet[t.currentNum].multipleSelect,"user-answer":t.ansSet[t.currentNum].userAnswer},on:{updateAnsSetFromSub:t.updateSubOfAnsSet}})],1)],1),a("text",[t._v(t._s(t.ansSet[t.currentNum].timeSpent))]),a("div",{staticClass:"navbar-light fixed-bottom",staticStyle:{"background-color":"#4186ED",height:"53px"}},[a("div",{staticClass:"btn-group mx-2 my-2",staticStyle:{width:"95%"}},[a("label",{staticClass:"btn btn-outline-light",on:{click:t.previousBtn}},[t._v("   "),a("svg",{staticClass:"bi bi-arrow-left-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"}})]),t._v(" "+t._s(t.$t("上一題"))+" ")]),a("label",{staticClass:"btn btn-outline-light",attrs:{id:"liveToastBtn"},on:{click:t.listBtn}},[t._v("  "),a("svg",{staticClass:"bi bi-list-nested",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M4.5 11.5A.5.5 0 0 1 5 11h10a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 1 3h10a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5z"}})]),t._v(" "+t._s(t.$t("答題進度"))+" ")]),a("label",{staticClass:"btn btn-light",on:{click:t.nextBtn}},[t._v("   "),a("svg",{staticClass:"bi bi-arrow-right-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"}})]),t._v(" "+t._s(t.$t("下一題"))+" ")])])]),a("b-modal",{attrs:{title:t.$i18n.t("答題進度"),"hide-footer":""},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("p",[a("question-list",{attrs:{parentdata:t.ansSet},on:{numChanged:t.updateCurrentNum}})],1)]),a("ConfirmModal",{on:{callSubmit:function(e){return t.submitBtn()}}})],1)},ht=[],pt=(n("d81d"),n("51c2")),ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("ul",{staticClass:"text-center"}),n("b-progress",{attrs:{max:t.pMax}},[n("b-progress-bar",{attrs:{value:t.pValue,label:(t.pValue/t.pMax*100).toFixed(0)+"%",animated:""}})],1),n("br"),n("b-alert",{staticClass:"text-center",attrs:{show:"",variant:"info"}},[n("svg",{staticClass:"bi bi-calendar3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[n("path",{attrs:{d:"M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"}}),n("path",{attrs:{d:"M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}})]),t._v("  "+t._s(t.$t("總題數"))+": "+t._s(t.amount)+"    "),n("br"),t._v(t._s(t.$t("已完成"))+": "+t._s(t.amount-t.unfinished)+"   "+t._s(t.$t("待完成"))+": "+t._s(t.unfinished)+" ")]),n("b-row",t._l(t.ansSet,(function(e,a){return n("div",{key:e,staticStyle:{float:"left","line-height":"34px",width:"25%","text-align":"right"}},[t.buttonStateCheck(a)?n("b-col",{staticClass:"p-3 text-center "},[n("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.changeNum(a)}}},[t._v(" "+t._s(a+1)+" ")])],1):n("b-col",{staticClass:"p-3 text-center "},[n("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.changeNum(a)}}},[t._v(" "+t._s(a+1)+" ")])],1)],1)})),0)],1)},mt=[],gt={name:"QuestionList",props:["parentdata"],data:function(){return{pValue:0,pMax:100,amount:0,unfinished:0,ansSet:[]}},computed:{},created:function(){var t=0;this.pValue=0,this.unfinished=0,this.ansSet=[],this.ansSet=this.parentdata;for(var e=0;e<this.ansSet.length;e+=1)this.checkSignleQuestion(this.ansSet[e].userAnswer)||(t+=1);this.amount=this.ansSet.length,this.pValue=(this.amount-t)/this.amount*100,this.unfinished=t},methods:{changeNum:function(t){this.$emit("numChanged",t)},checkSignleQuestion:function(t){for(var e=!1,n=0;n<t.length;n+=1)if(""!==t[n]&&void 0!==t[n]&&null!==t[n])return!0;return e},buttonStateCheck:function(t){return this.checkSignleQuestion(this.ansSet[t].userAnswer)}}},bt=gt,vt=Object(v["a"])(bt,ft,mt,!1,null,null,null),wt=vt.exports,yt=function t(e,n,a,i,r){Object(Q["a"])(this,t),this.userAnswer=[],this.sourceQuiz={},this.uuid="",this.timeSpent=0,this.multipleSelect=!1,this.userAnswer=null===e||void 0===e?[]:e,this.sourceQuiz=n,this.uuid=a,this.timeSpent=i,this.multipleSelect=r},St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.audio.waiting,expression:"audio.waiting"}],staticClass:"di main-wrap"},[n("audio",{ref:"audio",staticClass:"dn",attrs:{src:t.url,preload:t.audio.preload},on:{play:t.onPlay,error:t.onError,waiting:t.onWaiting,pause:t.onPause,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}}),n("h2",[n("span",{on:{click:t.startPlayOrPause}},[t.audio.playing?n("i",{staticClass:"bi bi-pause-circle"}):n("i",{staticClass:"bi bi-play-circle"})]),n("span",{staticClass:"badge bg-secondary",staticStyle:{"margin-left":"5px",color:"white"}},[t._v(" "+t._s(t._f("formatSecond")(t.audio.currentTime)))]),n("h6",{staticStyle:{"margin-left":"5px",color:"grey",display:"inline-block"}},[t._v(" "+t._s(t.$t("時長："))+t._s(t._f("formatSecond")(t.audio.maxTime))+" ")]),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noMuted,expression:"!controlList.noMuted"}],staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:t.startMutedOrNot}},[t._v(" "+t._s(t._f("transMutedOrNot")(t.audio.muted))+" ")])])])},xt=[],Tt=n("53ca");n("fb6a"),n("ac1f"),n("1276"),n("159b");function _t(t){var e=Object(Tt["a"])(t);if("number"===e||"string"===e){t=parseInt(t,0);var n=Math.floor(t/3600);t-=3600*n;var a=Math.floor(t/60);return t-=60*a,"".concat("0".concat(a).slice(-2),":").concat("0".concat(t).slice(-2))}return"00:00"}var At={name:"VueAudio",filters:{formatSecond:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _t(t)},transPlayPause:function(t){return t?"暫停":"播放"},transMutedOrNot:function(t){return t?"放音":"靜音"},transSpeed:function(t){return"快進: x".concat(t)}},props:{theUrl:{type:String,required:!0},theSpeeds:{type:Array,default:function(){return[1,1.5,2]}},theControlList:{type:String,default:""}},data:function(){return{url:this.theUrl||"",audio:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},sliderTime:0,volume:100,speeds:this.theSpeeds,controlList:{noDownload:!1,noMuted:!1,noVolume:!1,noProcess:!1,onlyOnePlaying:!1,noSpeed:!1}}},created:function(){this.setControlList()},methods:{setControlList:function(){var t=this,e=this.theControlList.split(" ");e.forEach((function(e){void 0!==t.controlList[e]&&(t.controlList[e]=!0)}))},changeSpeed:function(){var t=this.speeds.indexOf(this.audio.speed)+1;this.audio.speed=this.speeds[t%this.speeds.length],this.$refs.audio.playbackRate=this.audio.speed},startMutedOrNot:function(){this.$refs.audio.muted=!this.$refs.audio.muted,this.audio.muted=this.$refs.audio.muted},formatVolumeToolTip:function(t){return"音量: ".concat(t)},formatProcessToolTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=parseInt(this.audio.maxTime/100*t,0),"進度條: ".concat(_t(t))},changeVolume:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$refs.audio.volume=t/100,this.volume=t},changeCurrentTime:function(t){this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime,0)},startPlayOrPause:function(){return this.audio.playing?this.pausePlay():this.startPlay()},startPlay:function(){this.$refs.audio.play()},pausePlay:function(){this.$refs.audio.pause()},onPause:function(){this.audio.playing=!1},onError:function(){this.audio.waiting=!0},onWaiting:function(t){console.log(t)},onPlay:function(t){if(console.log(t),this.audio.playing=!0,this.audio.loading=!1,this.controlList.onlyOnePlaying){var e=t.target,n=document.getElementsByTagName("audio");Object(H["a"])(n).forEach((function(t){t!==e&&t.pause()}))}},onTimeupdate:function(t){this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100,0)},onLoadedmetadata:function(t){console.log("loadedmetadata"),console.log(t),this.audio.waiting=!1,this.audio.maxTime=parseInt(t.target.duration,0)}}},kt=At,Ct=(n("1c6a"),Object(v["a"])(kt,St,xt,!1,null,"e057a24e",null)),$t=Ct.exports,Nt=n("af9c"),Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:"modal-scoped",centered:""},scopedSlots:t._u([{key:"default",fn:function(){return[n("p",[t._v(t._s(t.$t("ConfirmModalTip")))])]},proxy:!0},{key:"modal-footer",fn:function(e){var a=e.hide;return[n("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.callSubmit()}}},[t._v(" "+t._s(t.$t("ConfirmModalYes"))+" ")]),n("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return a("forget")}}},[t._v(" "+t._s(t.$t("ConfirmModalNo"))+" ")])]}}])})],1)},zt=[];a["default"].use(pt["a"]);var Ot,It=a["default"].extend({methods:{callSubmit:function(){this.$emit("callSubmit")}}}),qt=It,Mt=Object(v["a"])(qt,Et,zt,!1,null,null,null),Lt=Mt.exports,Pt=n("fd0e"),Rt=n("0186");(function(t){t["SUBMMITED"]="SUBMMITED",t["TEMP_SUBMITTED"]="TEMP_SUBMITTED",t["STARTED"]="STARTED",t["EMPTY_INPUT"]="EMPTY_INPUT",t["NOT_EXISTING"]="NOT_EXISTING",t["INITIAL"]="INITIAL",t["NETWORK_ERROR"]="NETWORK_ERROR",t["VALID"]="VALID"})(Ot||(Ot={})),a["default"].use(pt["a"]);var jt=a["default"].extend({components:{Stage:ot,QuestionList:wt,VueAudio:$t,LanguageSelector:Nt["a"],ConfirmModal:Lt},data:function(){return{currentNum:0,amount:0,audioUrl:"",quizData:[],errored:!1,loading:!0,modalShow:!1,counter:0,toastContent:"",ansSet:[],timer:null,tempSubmitTimer:null,isAllSelected:!1,allowLastTip:!0,allowFirstTip:!0,allowAllSelectedTip:!0,Status:Rt["a"],QuizStatus:Ot,clientType:""}},watch:{modalShow:{handler:function(t,e){t?this.isCountTime(!1):e&&!t&&this.isCountTime(!0)}},currentNum:{handler:function(){this.isCountTime(!0)}}},beforeCreate:function(){this.$i18n.locale=this.$route.query.language},created:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,o,s,u,l,c,d,h,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.clientType=t.$route.query.clientType,n=Ot.INITIAL,t.$store.commit("updateLoading",!0),e.prev=3,e.next=6,Pt["a"].check(t.$route.query.code);case 6:if(a=e.sent,a!==Rt["a"].TEMP_SUBMITTED&&a!==Rt["a"].STARTED&&a!==Rt["a"].TRY_AGAIN){e.next=23;break}return n=Ot.VALID,e.next=11,Pt["a"].create(t.$route.query.code);case 11:for(i=e.sent,console.log("instance: ".concat(JSON.stringify(i))),t.quizData=i.answerList,t.amount=i.amount,r=i.answerList,o=0;o<i.amount;o+=1)s=r[o],u=s.userAnswer,l=s.sourceQuiz,c=s.uuid,d=s.timeSpent,h=s.multipleSelect,r[o]=new yt(u,l,c,d,h);t.ansSet=r,t.isCountTime(!0),t.tempSubmitTimer=window.setInterval(t.tempSubmit,1e4),t.checkIsAllSelected(),e.next=24;break;case 23:a===Rt["a"].SUBMMITED&&(n=Ot.SUBMMITED);case 24:e.next=31;break;case 26:e.prev=26,e.t0=e["catch"](3),p=e.t0,t.errored=!0,404===p.response.status&&(n=Ot.NOT_EXISTING);case 31:return e.prev=31,n!==Ot.VALID&&t.$router.push({path:"/tip",query:{quizCodeStatus:"".concat(n)}}),f=t.$route.query.num,f<=t.amount&&(t.currentNum=f-1),t.$store.commit("updateLoading",!1),e.finish(31);case 37:case"end":return e.stop()}}),e,null,[[3,26,31,37]])})))()},destroyed:function(){window.clearInterval(this.timer)},methods:{previousBtn:function(){this.currentNum-1>-1?(this.currentNum-=1,this.androidUpdateNum()):this.allowFirstTip&&(this.toastContent=this.$i18n.t("已經是第一題"),this.toast("b-toaster-top-center"))},nextBtn:function(){this.currentNum+1<this.amount?(this.currentNum+=1,this.androidUpdateNum()):this.allowLastTip&&(this.toastContent=this.$i18n.t("已經是最後一題"),this.toast("b-toaster-top-center"))},listBtn:function(){this.modalShow=!0},toast:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.allowLastTip=!1,this.allowFirstTip=!1,this.$bvToast.toast("".concat(this.toastContent),{title:this.$i18n.t("抱歉"),toaster:t,solid:!0,appendToast:n,autoHideDelay:900}),setTimeout((function(){e.allowLastTip=!0,e.allowFirstTip=!0}),1200)},updateCurrentNum:function(t){this.currentNum=t,this.modalShow=!1,this.androidUpdateNum()},updateSubOfAnsSet:function(t){this.ansSet[this.currentNum].userAnswer=t},submitBtn:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={ansSet:t.ansSet.map((function(t){return JSON.parse('{"uuid":"'.concat(t.uuid,'", "timeSpent":').concat(t.timeSpent,', "userAnswer":').concat(JSON.stringify(t.userAnswer),"}"))}))},t.isCountTime(!1),window.clearInterval(t.tempSubmitTimer),t.$store.commit("updateLoading",!0),e.prev=4,e.next=7,Pt["a"].submit(t.$route.query.code,n);case 7:t.$store.commit("updateLoading",!1),m.a.isInClient()?m.a.sendMessages([{type:"text",text:"complete.".concat(t.$route.query.code)}]):Pt["a"].browserSubmit(t.$route.query.code,"{}"),t.$router.push({path:"/submitted?clientType=".concat(t.clientType)}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](4),t.isCountTime(!0),t.tempSubmitTimer=window.setInterval(t.tempSubmit,1e4);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))()},tempSubmit:function(){var t={ansSet:this.ansSet.map((function(t){return JSON.parse('{"uuid":"'.concat(t.uuid,'", "timeSpent":').concat(t.timeSpent,', "userAnswer":').concat(JSON.stringify(t.userAnswer),"}"))}))};try{Pt["a"].save(this.$route.query.code,t)}catch(e){console.log(e)}},isCountTime:function(t){t?(window.clearInterval(this.timer),this.timer=null,this.timer=window.setInterval(this.addTime,100)):(window.clearInterval(this.timer),this.timer=null)},addTime:function(){this.ansSet[this.currentNum].timeSpent+=100},doubleClick:function(){console.log("double")},checkIsAllSelected:function(){for(var t=this,e=0,n=0;n<this.ansSet.length;n+=1)this.checkSignleQuestion(this.ansSet[n].userAnswer)||(e+=1);0===e?(this.isAllSelected=!0,this.allowAllSelectedTip&&(this.allowAllSelectedTip=!1,this.$bvToast.toast("".concat(this.$i18n.t("已答完所有題目")),{toaster:"b-toaster-bottom-center",title:this.$i18n.t("完成"),solid:!0,appendToast:!1,autoHideDelay:1e3}),setTimeout((function(){t.allowAllSelectedTip=!0}),1e3))):this.isAllSelected=!1},checkSignleQuestion:function(t){for(var e=!1,n=0;n<t.length;n+=1)if(""!==t[n]&&void 0!==t[n]&&null!==t[n])return!0;return e},androidUpdateNum:function(){var t=navigator.userAgent;(t.indexOf("Android")>-1||t.indexOf("Adr")>-1)&&window.AndroidWebView.updateQuesNum(this.currentNum+1)}}}),Dt=jt,Ut=Object(v["a"])(Dt,dt,ht,!1,null,null,null),Bt=Ut.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-top":"150px"}},[n("h1",[t._v("Well done!")]),n("h2",{staticStyle:{"margin-top":"70px"}},[t._v(" "+t._s(t.$t("繳交成功"))+" ")])])},Ht=[],Vt=a["default"].extend({components:{},mounted:function(){"rn"===this.$route.query.clientType&&window.ReactNativeWebView.postMessage("submitted")},created:function(){var t=this.$route.query.clientType,e=navigator.userAgent;(e.indexOf("Android")>-1||e.indexOf("Adr")>-1)&&"rn"!==t&&window.AndroidWebView.showResultAndVideo(),"rn"===t&&window.ReactNativeWebView.postMessage("submitted")}}),Qt=Vt,Yt=Object(v["a"])(Qt,Ft,Ht,!1,null,null,null),Wt=Yt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tipBody"},[a("div",[a("img",{staticClass:"mb-4",staticStyle:{"border-radius":"50%"},attrs:{src:n("b640"),alt:"",width:"70",height:"70"}}),a("br"),a("LanguageSelector",{staticClass:"mr-2"}),a("div",{staticStyle:{"margin-top":"30px"}},[t.quizCodeStatus==t.QuizStatus.SUBMMITED?a("h2",[t._v(" "+t._s(t.$t("該測驗已完成"))+" ")]):t.quizCodeStatus==t.QuizStatus.NOT_EXISTING?a("h2",[t._v(" "+t._s(t.$t("無效答題碼"))+" ")]):t._e()])],1)])},Jt=[],Xt=a["default"].extend({components:{LanguageSelector:Nt["a"]},data:function(){return{quizCodeStatus:-1,QuizStatus:Ot}},created:function(){this.quizCodeStatus=this.$route.query.quizCodeStatus}}),Kt=Xt,Zt=(n("9469"),Object(v["a"])(Kt,Gt,Jt,!1,null,null,null)),te=Zt.exports;a["default"].use(x["a"]);var ee=[{path:"/",name:"Index",component:function(){return n.e("chunk-795df950").then(n.bind(null,"d701"))}},{path:"/home",name:"Home",component:ct},{path:"/quiz",name:"Quiz",component:Bt},{path:"/ing",name:"Quiz",component:Bt},{path:"/submitted",name:"Submitted",component:Wt},{path:"/tip",name:"Tip",component:te}],ne=new x["a"]({routes:ee}),ae=x["a"].prototype.push;x["a"].prototype.push=function(t){var e=this;return new Promise((function(n,a){ae.call(e,t,(function(){n(e.currentRoute)}),(function(t){"NavigationDuplicated"===t.name?n(e.currentRoute):a(t)}))}))};var ie=ne,re=n("2f62");a["default"].use(re["a"]);var oe=new re["a"].Store({state:{stageHighlightLabel:null,stageAnswer:null,isLoading:!1},mutations:{updateStageHighlightLabel:function(t,e){t.stageHighlightLabel=e},updateStageHighlightLabelMulti:function(t,e){t.stageHighlightLabel=e},updateStageAnswer:function(t,e){t.stageAnswer=e},updateLoading:function(t,e){t.isLoading=e}},actions:{},modules:{}}),se=(n("466d"),n("a925"));function ue(){var t=n("49f8"),e={};return t.keys().forEach((function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var i=a[1];e[i]=t(n)}})),e}a["default"].use(se["a"]);var le=new se["a"]({locale:Object({VUE_APP_BASE_ROUTE:"/",VUE_APP_BASE_API_URL:"https://qsticker-api-test-cloud-run2-5iz3p3mbtq-de.a.run.app/service/v1/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({VUE_APP_BASE_ROUTE:"/",VUE_APP_BASE_API_URL:"https://qsticker-api-test-cloud-run2-5iz3p3mbtq-de.a.run.app/service/v1/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:ue()});a["default"].config.productionTip=!1,a["default"].use(u.a),a["default"].use(l["a"],d.a),a["default"].component("Loading",p.a),a["default"].use(o.a);var ce="https://client-os-midterm.qsticker.net/";if(m.a.isInClient())m.a.init({liffId:"1656074648-g7Eey0Go"}).then((function(){var t=new URL(window.location.href).searchParams.get("code"),e=new URL(window.location.href).searchParams.get("language");if(t&&e){var n="".concat(ce,"/#/ing/?code=").concat(t,"&language=").concat(e);window.location.href=n}}));else{var de=new URL(window.location.href).searchParams.get("liff.state");if(de){var he=decodeURIComponent(de),pe="".concat(ce,"/#/ing").concat(he);window.location.href=pe}}e["default"]=new a["default"]({router:ie,store:oe,i18n:le,render:function(t){return t(S)}}).$mount("#app")},ce74:function(t,e,n){},edd4:function(t){t.exports=JSON.parse('{"brandname":"QSticker","答題碼":"Quiz Code","開始":"Start","答題碼不存在":"Invalid quiz code!","測驗已繳交":"The quiz was submitted!","答題碼為空，請輸入答題碼":"Please provide the quiz code!","language":"Language","繳交":"Submit","單選題":"Please select one answer.","複選題":"Please select more than one answer.","上一題":"Previous","下一題":"Next","答題進度":"Progress","目前題型:":"","題數:":"Total:","播放進度：":"","時長：":"Total: ","總題數":"Total","已完成":"Answered","待完成":"Unfinished","已經是第一題":"You are at the first question!","已經是最後一題":"You are at the last question!","抱歉":"Sorry","繳交成功":"Submitted Successfully","ConfirmModalTip":"Do you want to submit the quiz?","ConfirmModalYes":"Yes, I\'m Sure","ConfirmModalNo":"Cancel","已答完所有題目":"All questions answered","完成":"Well Done!","該測驗已完成":"The quiz is already submitted!","無效答題碼":"Invalid Quiz Code!","聲音題":"This question has an audio."}')},fd0e:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("1da1"),i=n("d4ec"),r=n("bee2"),o=(n("96cf"),n("d3b7"),n("bc3a")),s=n.n(o),u=n("cd49"),l=s.a.create({baseURL:"https://qsticker-api-test-cloud-run2-5iz3p3mbtq-de.a.run.app/service/v1/",headers:{Accept:"application/json","Content-Type":"application/json"}});l.interceptors.response.use((function(t){return t}),(function(t){if("Network Error"===t.message)return u["default"].$notify({type:"error",title:"無法連線到伺服器",text:"請確認您的網路狀況是否正常"}),Promise.reject(t);var e="";switch(t.response.status){case 401:break;case 403:u["default"].$notify({type:"error",title:"錯誤",text:"您沒有此資源的存取權限"});break;default:break}return""!==e&&e!==u["default"].$router.currentRoute.path&&u["default"].$router.push(e),Promise.reject(t)}));var c=l,d=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,null,[{key:"check",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.get("answer-group/anwser-web?entranceCode=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.status);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"create",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.get("answer-group/anwser-web?entranceCode=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"submit",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("answer-group/save-Ans/".concat(e,"/submit"),n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"save",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("answer-group/save-Ans/".concat(e,"/tempSubmit"),n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"browserSubmit",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("answer-group/from-browser/".concat(e),n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}()},fddd:function(t,e,n){"use strict";n("605f")}});
//# sourceMappingURL=app.073a5052.js.map